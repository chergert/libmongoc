<page xmlns="http://projectmallard.org/1.0/"
      type="topic"
      id="mongoc_version">

  <info>
    <link type="guide" xref="index#api-reference" />
  </info>

  <title>Version Checks</title>

  <p>
    The following preprocessor macros can be used to perform various checks based on the version of the library you are compiling against.
    This may be useful if you only want to enable a feature on a certain version of the library.
  </p>

  <screen><![CDATA[#include <mongoc.h>

#define MONGOC_MAJOR_VERSION (1)
#define MONGOC_MINOR_VERSION (1)
#define MONGOC_MICRO_VERSION (10)
#define MONGOC_VERSION_S     "1.1.10"
#define MONGOC_VERSION_HEX   ((1 << 24) | (0 << 16) | (0 << 8) | 0)
#define MONGOC_CHECK_VERSION(major, minor, micro)
]]></screen>


  <listing>
    <title>MongoDB C Driver version check</title>
    <desc>Only compile a block on MongoDB C Driver 1.1.0 and newer.</desc>
    <code mime="text/x-csrc"><![CDATA[#if MONGOC_CHECK_VERSION(1, 1, 0)
static void do_something (void) {
}
#endif]]></code>
  </listing>

  <section id="seealso">
    <title>See Also</title>
    <p><link type="seealso" xref="mongoc_get_major_version">mongoc_get_major_version()</link>.</p>
    <p><link type="seealso" xref="mongoc_get_minor_version">mongoc_get_minor_version()</link>.</p>
    <p><link type="seealso" xref="mongoc_get_micro_version">mongoc_get_micro_version()</link>.</p>
    <p><link type="seealso" xref="mongoc_get_version">mongoc_get_version()</link>.</p>
    <p><link type="seealso" xref="mongoc_check_version">mongoc_check_version()</link>.</p>
  </section>

</page>
